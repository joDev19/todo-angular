<div
  class="bg-gray-100 rounded-lg shadow-lg lg:w-1/2 mx-auto flex flex-col justify-center gap-4 p-4 h-full"
>
  <h1 class="text-center text-xl">List of all your todos</h1>
  <div class="h-1/4 flex flex-col gap-2">
    <div>
      <div class="w-full">
        <input
          type="text"
          [formControl]="searchedtitleControl"
          placeholder="Search todos..."
          class="w-4/5 p-2 border border-gray-300 rounded"
        />
        @if(searchedtitleControl.value) {
        <button title="stop resaerch" type="button" class="ml-2">
          <fa-icon [icon]="closeIcon" class="hover:text-red-500 hover:cursor-pointer" (click)="searchedtitleControl.setValue('')" />
        </button>
        }
      </div>
      <label class="mr-4">
        <input type="radio" name="filter" value="all" checked class="mr-1" />
        All
      </label>
      <label class="mr-4">
        <input type="radio" name="filter" value="completed" class="mr-1" />
        Completed
      </label>
      <label>
        <input type="radio" name="filter" value="pending" class="mr-1" />
        Pending
      </label>
    </div>
  </div>
  <p>
    {{ searchedtitleControl.value }}
  </p>

  <div class="flex flex-col  gap-3 min-h-2/4 overflow-y-auto">
    @for (todo of filteredTodo(); track $index) {
    <div
      class="relative border min-h-24 rounded p-3 flex justify-between items-center"
      [class]="{'border-red-500': checkIfDatepassed(todo.endDate), 'border-green-500': !checkIfDatepassed(todo.endDate)}"
    >

    <div class="absolute top-0 left-0 m-1 hover:cursor-pointer">
      <fa-icon [icon]="trashIcon" class="hover:text-red-500" (click)="deleteTodo(todo.id)" />
      <a [routerLink]="['update-todo', todo.id]">
        <fa-icon [icon]="penIcon" class="hover:text-yellow-500" />
      </a>
    </div>
      <p>{{todo.title}}</p>
      <p>{{`${formatNumber(todo.endDate.getDate())}/${formatNumber(todo.endDate.getMonth()+1)}/${formatNumber(todo.endDate.getFullYear())}`}}</p>
    </div>
    }
  </div>
  <div class="min-h-1/4 flex items-center">
    <a [routerLink]="['/create-todo']"
      class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 hover:cursor-pointer"
    >
      Add Todo
  </a>
  </div>
</div>
